# 環境設置

<br>

## 先完成必要的下載

1. 進入官網[下載 VOSvierer](https://www.vosviewer.com/download)。

    ![](images/img_02.png)

<br>

2. 下載 [ARM64 version of the JRE](https://www.java.com/en/download/)。

    ![](images/img_03.png)

<br>

3. 將 VOSvierer 解壓縮後的資料夾拖曳到應用程式內。

    ![](images/img_04.png)

<br>

4. 點擊啟動會顯示如下訊息。

    ![](images/img_05.png)

<br>

5. 在 `.app` 文件點擊右鍵 `顯示套件內容`。

    ![](images/img_06.png)

<br>

6. 確認 `VOSvierer.jar` 文件所在位置。

    ![](images/img_07.png)

<br>

## 製作腳本 

_製作一個簡單的腳本來自動運行 `java -jar VOSviewer.jar`_

<br>

1. 在桌面創建腳本 `run_vosviewer.command`。

    ```bash
    cd ~/Desktop && nano run_vosviewer.command
    ```

<br>

2. 編輯腳本文件。

    ```bash
    #!/bin/bash
    cd /Applications/VOSviewer_1.6.20_mac/VOSviewer.app/Contents/Java
    java -jar VOSviewer.jar
    ```

<br>

3. 賦予執行權限。

    ```bash
    chmod +x run_vosviewer.command
    ```

<br>

4. 雙擊 `run_vosviewer.sh` 文件運行腳本。

    ```bash
    ./run_vosviewer.sh
    ```

<br>

5. 加入輔助使用。

    ![](images/img_01.png)

<br>

## 打包為應用程式包

_製作圖標並添加到應用程式_

<br>

1. 進入桌面並建立應用程式包結構。

    ```bash
    cd ~/Desktop && mkdir -p VOSviewerApp.app/Contents/MacOS
    ```

<br>

2. 在應用程式包中創建一個新的啟動腳本。

    ```bash
    nano VOSviewerApp.app/Contents/MacOS/run_vosviewer.command
    ```

<br>

3. 編輯腳本。

    ```bash
    #!/bin/bash
    cd /Applications/VOSviewer_1.6.20_mac/VOSviewer.app/Contents/Java
    java -jar VOSviewer.jar
    ```

<br>

4. 賦予腳本執行權限。

    ```bash
    chmod +x VOSviewerApp.app/Contents/MacOS/run_vosviewer.command
    ```

<br>

5. 找一個合適的 PNG 格式圖標，使用 [Image2Icon](https://img2icnsapp.com/) 將其轉換為 `.icns` 格式，命名為 `vosviewer.icns`，並將文件中時存放在 `~/Downloads`。

<br>

6. 將生成的 `vosviewer.icns` 文件放到 `VOSviewerApp.app/Contents/Resources` 目錄下。

    ```bash
    mkdir -p VOSviewerApp.app/Contents/Resources && cp ~/Downloads/vosviewer.icns VOSviewerApp.app/Contents/Resources/
    ```

<br>

7. 創建並編輯 `Info.plist` 文件。

    ```bash
    nano VOSviewerApp.app/Contents/Info.plist
    ```

<br>

8. 在文本編輯器中輸入以下內容。

    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
    <plist version="1.0">
    <dict>
        <key>CFBundleIdentifier</key>
        <string>com.yourdomain.VOSviewerApp</string>
        <key>CFBundleName</key>
        <string>VOSviewerApp</string>
        <key>CFBundleVersion</key>
        <string>1.0</string>
        <key>CFBundleExecutable</key>
        <string>run_vosviewer.command</string>
        <key>CFBundleIconFile</key>
        <string>vosviewer.icns</string>
    </dict>
    </plist>
    ```

<br>

9. 將應用程式包移動到應用程式目錄中。

    ```bash
    mv VOSviewerApp.app /Applications/
    ```

<br>

10. 在應用程式中點擊啟動。

    ![](images/img_08.png)

<br>

11. 加入 `隱私與安全性` 的 `輔助使用`。

    ![](images/img_09.png)

<br>

12. 在應用程式中會找到。

    ![](images/img_10.png)

<br>

___

_END_
